{% if account.get.subpage == 'information' or account.get.subpage == 'changepass' %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="title mb-0">{{ account[account.get.subpage].text.title }}</h4>
    <a href="/account/reset" class="link-secondary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover fw-bold">
        {{ account[account.get.subpage].text.subtitle }}
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
            <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>
            <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"/>
        </svg>
    </a>
</div>

<ul class="nav nav-tabs justify-content-center">
    {% for nav in account.menu[0] %}
    <li class="nav-item">
        <a class="nav-link {{ nav.active }} text-decoration-none fw-bold" style="color: #587c95;" aria-current="page" href="{{ nav.link }}">{{ nav.name }}</a>
    </li>
    {% endfor %}
</ul>

{% if account.get.subpage == 'information' %}
<div class="row justify-content-center">
    <div class="col col-md-8">
        <ul class="list-group list-group-flush">
            <li class="list-group-item d-flex justify-content-between">
                <span>
                    {{ account.information.text.loginName }}
                </span>
                <span class="fw-bold">
                    {{ account.information.info[0] }}
                </span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
                <span>
                    {{ account.information.text.email }}
                </span>
                <span>
                    {{ account.information.info[1] }}
                </span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
                <span>
                    {{ account.information.text.registrationDate }}
                </span>
                <span>
                    {{ account.information.info[2]|format_datetime() }}
                </span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
                <span>
                    {{ account.information.text.allcharacter }}
                </span>
                <div class="w-50 text-end">
                    {% for char in account.information.info.chars %}
                    <a href="/account/getchar/{{ char[0] }}" class="link-secondary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">{{ char[0] }}</a>
                    {% endfor %}
                </div>
            </li>
        </ul>
    </div>
</div>
{% elseif account.get.subpage == 'changepass' %}
<div class="row justify-content-center">
    <div class="col col-md-8 mt-2">
    {{ account.changepass.alert|raw }}
        <form method="post" name="changepass">
            <div class="mb-3">
                <label for="password" class="form-label">{{ account.changepass.text.form.password.label }}</label>
                <input type="password" id="password" name="changepass[password]" class="form-control" aria-describedby="passwordHelp" minlength="{{ account.changepass.config.validator.password.min_length }}" maxlength="{{ account.changepass.config.validator.password.max_length }}" pattern="^[A-Za-z0-9]+$" autocomplete="current-password" required>
                <div id="passwordHelp" class="form-text">
                    {{ account.changepass.text.form.password.help }}
                </div>
            </div>
            <div>
                <hr>
            </div>
            <div class="mb-3">
                <label for="newpassword" class="form-label">{{ account.changepass.text.form.newpassword.label }}</label>
                <input type="password" id="newpassword" name="changepass[newpassword]" class="form-control" minlength="{{ account.changepass.config.validator.password.min_length }}" maxlength="{{ account.changepass.config.validator.password.max_length }}" pattern="^[A-Za-z0-9]+$" autocomplete="off" required>
            </div>

            <div class="mb-3">
                <label for="renewpassword" class="form-label">{{ account.changepass.text.form.renewpassword.label }}</label>
                <input type="password" id="renewpassword" name="changepass[renewpassword]" class="form-control" aria-describedby="renewpasswordHelp" minlength="{{ account.changepass.config.validator.password.min_length }}" maxlength="{{ account.changepass.config.validator.password.max_length }}" pattern="^[A-Za-z0-9]+$" autocomplete="off" required>
                <div id="renewpasswordHelp" class="form-text">
                    {{ account.changepass.text.form.renewpassword.help }}
                </div>
            </div>

            <div class="mb-3">
                <button class="w-50 mb-2 btn rounded-3 btn btn-secondary" type="submit" name="submit">
                    {{ account.changepass.text.form.button.submit }}
                </button>
            </div>
        </form>
    </div>
</div>
{% endif %}
{% elseif account.get.subpage == 'reset' or account.get.subpage == 'addstats' or account.get.subpage == 'teleport' %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="title mb-0">{{ account[account.get.subpage].text.title }}</h4>
    <a href="/account" class="link-secondary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover fw-bold">
        {{ account[account.get.subpage].text.subtitle }}
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link-45deg" viewBox="0 0 16 16">
            <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>
            <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"/>
        </svg>
    </a>
</div>

<ul class="nav nav-tabs justify-content-center mb-3">
    {% for nav in account.menu[1] %}
    <li class="nav-item">
        <a class="nav-link {{ nav.active }} text-decoration-none fw-bold" style="color: #587c95;" aria-current="page" href="{{ nav.link }}">{{ nav.name }}</a>
    </li>
    {% endfor %}
</ul>
{% if account.get.subpage == 'reset' %}
<div class="row justify-content-center">
    <div class="col col-md-8">
        <div class="alert alert-light mt-2" role="alert">
           {{ account.reset.text.description }}
        </div>
        {{ account.reset.alert|raw }}
        {% if account.reset.nocharacters %}
        <p class="mb-0">{{ account.reset.text.requirementsforreset }}</p>
        <ul>
            <li>{{ account.reset.text.resetforreset }}</li>
            <li>{{ account.reset.text.levelforreset }}</li>
            <li>{{ account.reset.text.zenforreset }}</li>
        </ul>
        <div>
        {% if account.reset.conditionsnotmet %}
            <form method="post" name="reset" autocomplete="off" novalidate>
                <div class="mb-3">
                    <button class="w-50 mb-2 btn rounded-3 btn btn-secondary" type="submit" name="reset[submit]">
                        {{ account.reset.text.form.button.submit }}
                    </button>
                </div>
            </form>
        {% else %}
        <div class="alert alert-secondary" role="alert">
            {{ account.reset.text.alert.conditionsnotmet }}
        </div>
        {% endif %}
        </div>
        {% if account.reset.addpoints %}
        <p class="mb-0">{{ account.reset.text.rewardforreset }}</p>
        <ul>
            <li>{{ account.reset.text.rewardpoint }}</li>
        </ul>
        {% endif %}
        {% endif %}
    </div>
</div>
{% elseif account.get.subpage == 'addstats' %}
<div class="row justify-content-center">
    <div class="col col-md-8">
        <div class="alert alert-light mt-2" role="alert">
           {{ account.addstats.text.description }}
        </div>
        {{ account.addstats.alert|raw }}
        {% if account.addstats.nocharacters %}
        <form method="post" name="addstats" autocomplete="off">
            <div class="mb-3">
                <table class="table table-borderless align-middle">
                    <thead>
                        <tr class="text-end">
                            <th colspan="2" class="bg-light">{{ account.addstats.text.form.table.leveluppoints }}</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for attr in account.addstats.info.attr %}
                        <tr>
                            <td class="bg-light w-50">{{ account.addstats.text.form.table[attr] }}</td>
                            <td class="w-50"><input type="number" name="addstats[{{ attr }}]" class="form-control" value="0" step="1"></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <div class="mb-3">
                <button class="w-50 mb-2 btn rounded-3 btn btn-secondary" type="submit" name="submit">
                    {{ account.addstats.text.form.button.submit }}
                </button>
            </div>
        </form>
        {% endif %}
    </div>
</div>
{% elseif account.get.subpage == 'teleport' %}
<div class="row justify-content-center">
    <div class="col col-md-8">
        <div class="alert alert-light mt-2" role="alert">
           {{ account.teleport.text.description }}
        </div>
        {{ account.teleport.alert|raw }}
        {% if account.teleport.nocharacters %}
        <form method="post" name="teleport" autocomplete="off">
            <div class="mb-3">
                <select class="form-select" name="teleport[map]">
                    {% for game_map in account.teleport.game_map %}
                    <option value="{{ game_map[0] }}">{{ game_map[1] }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="mb-3">
                <button class="w-50 mb-2 btn rounded-3 btn btn-secondary" type="submit" name="submit">
                    {{ account.teleport.text.form.button.submit }}
                </button>
            </div>
        </form>
        {% endif %}
    </div>
</div>
{% endif %}

{% endif %}